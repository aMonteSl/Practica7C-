\hypertarget{classUsersServer}{}\doxysection{Users\+Server Class Reference}
\label{classUsersServer}\index{UsersServer@{UsersServer}}


{\ttfamily \#include $<$Users\+Server.\+h$>$}



Collaboration diagram for Users\+Server\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{classUsersServer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classUsersServer_adedce6f57aa55fad84618b6914b77e5a}{Users\+Server}} ()
\begin{DoxyCompactList}\small\item\em Construct a new Users Server object Creates a new \mbox{\hyperlink{classUsersServer}{Users\+Server}} object that contains the \mbox{\hyperlink{classUsersDatabase}{Users\+Database}} object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classUsersServer_a0bde68613117a6530821f8ccf409d065}{$\sim$\+Users\+Server}} ()
\begin{DoxyCompactList}\small\item\em Destroy the Users Server object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUsersServer_a314dcb58231af84a4d3f40aa58ceda66}{create\+User}} (const std\+::string name, const std\+::string nif, const std\+::string password, const std\+::string privileges, const std\+::string email)
\begin{DoxyCompactList}\small\item\em Create a \mbox{\hyperlink{classUser}{User}} object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUsersServer_a192f5a7d0ef25994bd161b8029f935ca}{delete\+User}} (const std\+::string nif)
\begin{DoxyCompactList}\small\item\em Delete a \mbox{\hyperlink{classUser}{User}} object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUsersServer_aa23ec5bd6c0b49cabb05e8d6e60f552a}{print\+Users\+Server}} () const
\begin{DoxyCompactList}\small\item\em Print all Users Print all users in the \mbox{\hyperlink{classUsersDatabase}{Users\+Database}} object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUsersServer_a0cab706bb303ffa44ea46f234e95993f}{load\+Users\+From\+File}} ()
\begin{DoxyCompactList}\small\item\em Load Users from File Load users from a file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUsersServer_a09ff022e97cf02e1737dc735b43364fe}{save\+Users\+To\+File}} ()
\begin{DoxyCompactList}\small\item\em Save Users to File Save users to a file. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classUsersServer_a113e388eb93cf9aa9dd585d87e3a557b}{find\+User\+Login}} (std\+::string name, std\+::string password, std\+::string nif)
\begin{DoxyCompactList}\small\item\em Find \mbox{\hyperlink{classUser}{User}} Login. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classUsersServer_a8a29fac8d978a4f0f4b687640b210be7}{get\+Privileges}} (std\+::string nif)
\begin{DoxyCompactList}\small\item\em Get Privileges. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUsersServer_a3500268cb464053ac588a0f4534ac36c}{update\+User}} (const std\+::string name, const std\+::string nif, const std\+::string password, const std\+::string privileges, const std\+::string email)
\begin{DoxyCompactList}\small\item\em Update \mbox{\hyperlink{classUser}{User}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classUsersServer_a2a27e25d8416f4070829f5f4b0467a15}{read\+Users\+From\+File\+Txt}} ()
\begin{DoxyCompactList}\small\item\em This method reads the users from a file txt. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUsersServer_a33b866b5557fd81f26d22af87a2d8305}{write\+User\+To\+File\+Txt}} ()
\begin{DoxyCompactList}\small\item\em This method writes the users to a file txt. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classUsersDatabase}{Users\+Database}} \mbox{\hyperlink{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}{users\+Database\+\_\+}}
\begin{DoxyCompactList}\small\item\em This is the \mbox{\hyperlink{classUsersDatabase}{Users\+Database}} object. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}{file\+Name\+Txt\+\_\+}} = \char`\"{}users.\+txt\char`\"{}
\begin{DoxyCompactList}\small\item\em This is the name of the file. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 19 of file Users\+Server.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classUsersServer_adedce6f57aa55fad84618b6914b77e5a}\label{classUsersServer_adedce6f57aa55fad84618b6914b77e5a}} 
\index{UsersServer@{UsersServer}!UsersServer@{UsersServer}}
\index{UsersServer@{UsersServer}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{UsersServer()}{UsersServer()}}
{\footnotesize\ttfamily Users\+Server\+::\+Users\+Server (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Construct a new Users Server object Creates a new \mbox{\hyperlink{classUsersServer}{Users\+Server}} object that contains the \mbox{\hyperlink{classUsersDatabase}{Users\+Database}} object. 

\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{classUsersServer}{Users\+Server}} object 
\end{DoxyReturn}


Definition at line 17 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{17                          \{}
\DoxyCodeLine{18   \textcolor{comment}{// Creamos tres usuarios por defecto}}
\DoxyCodeLine{19   \mbox{\hyperlink{classUsersServer_a314dcb58231af84a4d3f40aa58ceda66}{createUser}}(\textcolor{stringliteral}{"{}admin"{}}, \textcolor{stringliteral}{"{}12345678X"{}}, \textcolor{stringliteral}{"{}admin"{}}, \textcolor{stringliteral}{"{}ADMIN"{}}, \textcolor{stringliteral}{"{}admin@example.com"{}});}
\DoxyCodeLine{20   \mbox{\hyperlink{classUsersServer_a314dcb58231af84a4d3f40aa58ceda66}{createUser}}(\textcolor{stringliteral}{"{}employee"{}}, \textcolor{stringliteral}{"{}12345678Y"{}}, \textcolor{stringliteral}{"{}employee"{}}, \textcolor{stringliteral}{"{}EMPLOYEE"{}},}
\DoxyCodeLine{21              \textcolor{stringliteral}{"{}employee@example.com"{}});}
\DoxyCodeLine{22   \mbox{\hyperlink{classUsersServer_a314dcb58231af84a4d3f40aa58ceda66}{createUser}}(\textcolor{stringliteral}{"{}guest"{}}, \textcolor{stringliteral}{"{}12345678Z"{}}, \textcolor{stringliteral}{"{}guest"{}}, \textcolor{stringliteral}{"{}GUEST"{}}, \textcolor{stringliteral}{"{}guest@example.com"{}});}
\DoxyCodeLine{23 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classUsersServer_a0bde68613117a6530821f8ccf409d065}\label{classUsersServer_a0bde68613117a6530821f8ccf409d065}} 
\index{UsersServer@{UsersServer}!````~UsersServer@{$\sim$UsersServer}}
\index{````~UsersServer@{$\sim$UsersServer}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{$\sim$UsersServer()}{~UsersServer()}}
{\footnotesize\ttfamily Users\+Server\+::$\sim$\+Users\+Server (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destroy the Users Server object. 



Definition at line 25 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{25                           \{}
\DoxyCodeLine{26   \textcolor{comment}{// Esto destruira el set de punteros de la base de datos}}
\DoxyCodeLine{27 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classUsersServer_a314dcb58231af84a4d3f40aa58ceda66}\label{classUsersServer_a314dcb58231af84a4d3f40aa58ceda66}} 
\index{UsersServer@{UsersServer}!createUser@{createUser}}
\index{createUser@{createUser}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{createUser()}{createUser()}}
{\footnotesize\ttfamily void Users\+Server\+::create\+User (\begin{DoxyParamCaption}\item[{const std\+::string}]{name,  }\item[{const std\+::string}]{nif,  }\item[{const std\+::string}]{password,  }\item[{const std\+::string}]{privileges,  }\item[{const std\+::string}]{email }\end{DoxyParamCaption})}



Create a \mbox{\hyperlink{classUser}{User}} object. 


\begin{DoxyParams}{Parameters}
{\em name} & \\
\hline
{\em nif} & \\
\hline
{\em password} & \\
\hline
{\em privileges} & \\
\hline
{\em email} & \\
\hline
\end{DoxyParams}


Definition at line 29 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{32                                                     \{}
\DoxyCodeLine{33   \textcolor{comment}{// Debe de crear el usuario y añadir el puntero al set de usuarios}}
\DoxyCodeLine{34   \mbox{\hyperlink{classUser}{User}} *user = \textcolor{keyword}{new} \mbox{\hyperlink{classUser}{User}}(name, nif, password, privileges, email);}
\DoxyCodeLine{35   \mbox{\hyperlink{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}{usersDatabase\_}}.\mbox{\hyperlink{classUsersDatabase_a6f929d543040ad259bfa29d0c138b74f}{addUser}}(user);}
\DoxyCodeLine{36 \}}

\end{DoxyCode}


Referenced by main(), and Green\+House\+::manage\+Create\+User().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classUsersServer_a314dcb58231af84a4d3f40aa58ceda66_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classUsersServer_a192f5a7d0ef25994bd161b8029f935ca}\label{classUsersServer_a192f5a7d0ef25994bd161b8029f935ca}} 
\index{UsersServer@{UsersServer}!deleteUser@{deleteUser}}
\index{deleteUser@{deleteUser}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{deleteUser()}{deleteUser()}}
{\footnotesize\ttfamily void Users\+Server\+::delete\+User (\begin{DoxyParamCaption}\item[{const std\+::string}]{nif }\end{DoxyParamCaption})}



Delete a \mbox{\hyperlink{classUser}{User}} object. 


\begin{DoxyParams}{Parameters}
{\em nif} & \\
\hline
\end{DoxyParams}


Definition at line 38 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{38                                                 \{}
\DoxyCodeLine{39   \mbox{\hyperlink{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}{usersDatabase\_}}.\mbox{\hyperlink{classUsersDatabase_ab36722a2b6312f7a5cb9469b131dd58a}{deleteUserByNif}}(nif);}
\DoxyCodeLine{40 \}}

\end{DoxyCode}


Referenced by main(), and Green\+House\+::manage\+Delete\+User().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classUsersServer_a192f5a7d0ef25994bd161b8029f935ca_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classUsersServer_a113e388eb93cf9aa9dd585d87e3a557b}\label{classUsersServer_a113e388eb93cf9aa9dd585d87e3a557b}} 
\index{UsersServer@{UsersServer}!findUserLogin@{findUserLogin}}
\index{findUserLogin@{findUserLogin}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{findUserLogin()}{findUserLogin()}}
{\footnotesize\ttfamily bool Users\+Server\+::find\+User\+Login (\begin{DoxyParamCaption}\item[{std\+::string}]{name,  }\item[{std\+::string}]{password,  }\item[{std\+::string}]{nif }\end{DoxyParamCaption})}



Find \mbox{\hyperlink{classUser}{User}} Login. 


\begin{DoxyParams}{Parameters}
{\em name} & \\
\hline
{\em password} & \\
\hline
{\em nif} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 51 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{52                                                \{}
\DoxyCodeLine{53   \textcolor{comment}{// Debemos de buscar encontrar a un usuario por su nombre, contraseña y nif}}
\DoxyCodeLine{54   \textcolor{comment}{// Si tienen el mismo puntero devolver true, si no false}}
\DoxyCodeLine{55   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}{usersDatabase\_}}.\mbox{\hyperlink{classUsersDatabase_a81c2193fa38bd3f63403e8877b741a2c}{findUserByNif}}(nif) != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{56     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}{usersDatabase\_}}.\mbox{\hyperlink{classUsersDatabase_a81c2193fa38bd3f63403e8877b741a2c}{findUserByNif}}(nif)-\/>\mbox{\hyperlink{classUser_a446a64e63adafbc2e1428532275ad6a1}{getName}}() == name \&\&}
\DoxyCodeLine{57         \mbox{\hyperlink{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}{usersDatabase\_}}.\mbox{\hyperlink{classUsersDatabase_a81c2193fa38bd3f63403e8877b741a2c}{findUserByNif}}(nif)-\/>\mbox{\hyperlink{classUser_a180e5acdc4b150463652d90d54caa8fc}{getPassword}}() == password) \{}
\DoxyCodeLine{58       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{59     \}}
\DoxyCodeLine{60   \}}
\DoxyCodeLine{61 }
\DoxyCodeLine{62   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{63 \}}

\end{DoxyCode}


Referenced by main(), Green\+House\+::manage\+Login(), and Green\+House\+::search\+User().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classUsersServer_a113e388eb93cf9aa9dd585d87e3a557b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classUsersServer_a8a29fac8d978a4f0f4b687640b210be7}\label{classUsersServer_a8a29fac8d978a4f0f4b687640b210be7}} 
\index{UsersServer@{UsersServer}!getPrivileges@{getPrivileges}}
\index{getPrivileges@{getPrivileges}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{getPrivileges()}{getPrivileges()}}
{\footnotesize\ttfamily std\+::string Users\+Server\+::get\+Privileges (\begin{DoxyParamCaption}\item[{std\+::string}]{nif }\end{DoxyParamCaption})}



Get Privileges. 


\begin{DoxyParams}{Parameters}
{\em nif} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::string the privileges 
\end{DoxyReturn}


Definition at line 42 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{42                                                   \{}
\DoxyCodeLine{43   \mbox{\hyperlink{classUser}{User}} *user = \mbox{\hyperlink{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}{usersDatabase\_}}.\mbox{\hyperlink{classUsersDatabase_a81c2193fa38bd3f63403e8877b741a2c}{findUserByNif}}(nif);}
\DoxyCodeLine{44   \textcolor{keywordflow}{if} (user != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{45     \textcolor{keywordflow}{return} user-\/>\mbox{\hyperlink{classUser_afb94652eecf297a0b27418e0a6211a70}{getPrivileges}}();}
\DoxyCodeLine{46   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{47     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}GUEST"{}};}
\DoxyCodeLine{48   \}}
\DoxyCodeLine{49 \}}

\end{DoxyCode}


References User\+::get\+Privileges().



Referenced by main(), and Green\+House\+::manage\+Login().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classUsersServer_a8a29fac8d978a4f0f4b687640b210be7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classUsersServer_a8a29fac8d978a4f0f4b687640b210be7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classUsersServer_a0cab706bb303ffa44ea46f234e95993f}\label{classUsersServer_a0cab706bb303ffa44ea46f234e95993f}} 
\index{UsersServer@{UsersServer}!loadUsersFromFile@{loadUsersFromFile}}
\index{loadUsersFromFile@{loadUsersFromFile}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{loadUsersFromFile()}{loadUsersFromFile()}}
{\footnotesize\ttfamily void Users\+Server\+::load\+Users\+From\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Load Users from File Load users from a file. 



Definition at line 115 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{115                                     \{}
\DoxyCodeLine{116   \textcolor{comment}{// Cargo los usuarios del archivo}}
\DoxyCodeLine{117   \textcolor{comment}{// Siguiendo el formato de nombre nif password privilegios email}}
\DoxyCodeLine{118 }
\DoxyCodeLine{119   std::cout << \textcolor{stringliteral}{"{}Loading users from file "{}} << \mbox{\hyperlink{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}{fileNameTxt\_}} << \textcolor{stringliteral}{"{}..."{}} << std::endl;}
\DoxyCodeLine{120 }
\DoxyCodeLine{121   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{122     \mbox{\hyperlink{classUsersServer_a2a27e25d8416f4070829f5f4b0467a15}{readUsersFromFileTxt}}();}
\DoxyCodeLine{123   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{classFileReadError}{FileReadError}} \&e) \{}
\DoxyCodeLine{124     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{125 }
\DoxyCodeLine{126   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{classFileCloseError}{FileCloseError}} \&e) \{}
\DoxyCodeLine{127     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{128 }
\DoxyCodeLine{129   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{classFileOpenError}{FileOpenError}} \&e) \{}
\DoxyCodeLine{130     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{131 }
\DoxyCodeLine{132   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{classFileNotFoundError}{FileNotFoundError}} \&e) \{}
\DoxyCodeLine{133     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{134   \}}
\DoxyCodeLine{135 }
\DoxyCodeLine{136   \textcolor{comment}{/*}}
\DoxyCodeLine{137 \textcolor{comment}{  if (file.is\_open()) \{}}
\DoxyCodeLine{138 \textcolor{comment}{    std::string name, nif, password, privileges, email;}}
\DoxyCodeLine{139 \textcolor{comment}{    while (file >> name >> nif >> password >> privileges >> email) \{}}
\DoxyCodeLine{140 \textcolor{comment}{      createUser(name, nif, password, privileges, email);}}
\DoxyCodeLine{141 \textcolor{comment}{    \}}}
\DoxyCodeLine{142 \textcolor{comment}{    file.close();}}
\DoxyCodeLine{143 \textcolor{comment}{  \} else \{}}
\DoxyCodeLine{144 \textcolor{comment}{    std::cerr << "{}Error: Unable to open file for reading."{} << std::endl;}}
\DoxyCodeLine{145 \textcolor{comment}{  \}}}
\DoxyCodeLine{146 \textcolor{comment}{  */}}
\DoxyCodeLine{147 \}}

\end{DoxyCode}


Referenced by main(), and Green\+House\+::manage\+Login().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classUsersServer_a0cab706bb303ffa44ea46f234e95993f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classUsersServer_aa23ec5bd6c0b49cabb05e8d6e60f552a}\label{classUsersServer_aa23ec5bd6c0b49cabb05e8d6e60f552a}} 
\index{UsersServer@{UsersServer}!printUsersServer@{printUsersServer}}
\index{printUsersServer@{printUsersServer}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{printUsersServer()}{printUsersServer()}}
{\footnotesize\ttfamily void Users\+Server\+::print\+Users\+Server (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Print all Users Print all users in the \mbox{\hyperlink{classUsersDatabase}{Users\+Database}} object. 



Definition at line 80 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{80                                          \{}
\DoxyCodeLine{81   this-\/>\mbox{\hyperlink{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}{usersDatabase\_}}.\mbox{\hyperlink{classUsersDatabase_a1177bdb5dad44c7df97d34da14e0eb8d}{printUsers}}();}
\DoxyCodeLine{82 \}}

\end{DoxyCode}


Referenced by main(), and Green\+House\+::manage\+Admin().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classUsersServer_aa23ec5bd6c0b49cabb05e8d6e60f552a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classUsersServer_a2a27e25d8416f4070829f5f4b0467a15}\label{classUsersServer_a2a27e25d8416f4070829f5f4b0467a15}} 
\index{UsersServer@{UsersServer}!readUsersFromFileTxt@{readUsersFromFileTxt}}
\index{readUsersFromFileTxt@{readUsersFromFileTxt}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{readUsersFromFileTxt()}{readUsersFromFileTxt()}}
{\footnotesize\ttfamily void Users\+Server\+::read\+Users\+From\+File\+Txt (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This method reads the users from a file txt. 



Definition at line 84 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{84                                        \{}
\DoxyCodeLine{85 }
\DoxyCodeLine{86   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{87     std::ifstream file(\mbox{\hyperlink{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}{fileNameTxt\_}});}
\DoxyCodeLine{88 }
\DoxyCodeLine{89     \textcolor{keywordflow}{if} (!file.good()) \{}
\DoxyCodeLine{90       file.close();}
\DoxyCodeLine{91       \textcolor{keywordflow}{throw} \mbox{\hyperlink{classFileNotFoundError}{FileNotFoundError}}(\mbox{\hyperlink{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}{fileNameTxt\_}});}
\DoxyCodeLine{92     \}}
\DoxyCodeLine{93     \textcolor{keywordflow}{if} (!file.is\_open()) \{}
\DoxyCodeLine{94       \textcolor{keywordflow}{throw} \mbox{\hyperlink{classFileOpenError}{FileOpenError}}(\mbox{\hyperlink{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}{fileNameTxt\_}});}
\DoxyCodeLine{95     \}}
\DoxyCodeLine{96 }
\DoxyCodeLine{97     std::string name, nif, password, privileges, email;}
\DoxyCodeLine{98     \textcolor{keywordflow}{while} (file >> name >> nif >> password >> privileges >> email) \{}
\DoxyCodeLine{99       std::cout << \textcolor{stringliteral}{"{}Read user: "{}} << name << \textcolor{stringliteral}{"{} "{}} << nif << \textcolor{stringliteral}{"{} "{}} << password << \textcolor{stringliteral}{"{} "{}}}
\DoxyCodeLine{100                 << privileges << \textcolor{stringliteral}{"{} "{}} << email << std::endl;}
\DoxyCodeLine{101       \mbox{\hyperlink{classUsersServer_a314dcb58231af84a4d3f40aa58ceda66}{createUser}}(name, nif, password, privileges, email);}
\DoxyCodeLine{102     \}}
\DoxyCodeLine{103 }
\DoxyCodeLine{104     file.close();}
\DoxyCodeLine{105 }
\DoxyCodeLine{106     \textcolor{keywordflow}{if} (file.is\_open()) \{}
\DoxyCodeLine{107       \textcolor{keywordflow}{throw} \mbox{\hyperlink{classFileCloseError}{FileCloseError}}(\mbox{\hyperlink{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}{fileNameTxt\_}});}
\DoxyCodeLine{108     \}}
\DoxyCodeLine{109   \} \textcolor{keywordflow}{catch} (std::exception \&e) \{}
\DoxyCodeLine{110     \textcolor{comment}{// std::cerr << e.what() << std::endl;}}
\DoxyCodeLine{111     \textcolor{keywordflow}{throw};}
\DoxyCodeLine{112   \}}
\DoxyCodeLine{113 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classUsersServer_a09ff022e97cf02e1737dc735b43364fe}\label{classUsersServer_a09ff022e97cf02e1737dc735b43364fe}} 
\index{UsersServer@{UsersServer}!saveUsersToFile@{saveUsersToFile}}
\index{saveUsersToFile@{saveUsersToFile}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{saveUsersToFile()}{saveUsersToFile()}}
{\footnotesize\ttfamily void Users\+Server\+::save\+Users\+To\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Save Users to File Save users to a file. 



Definition at line 181 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{181                                   \{}
\DoxyCodeLine{182   \textcolor{comment}{// Guardo los usuarios en el archivo}}
\DoxyCodeLine{183   std::cout << \textcolor{stringliteral}{"{}Saving users to file "{}} << \mbox{\hyperlink{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}{fileNameTxt\_}} << \textcolor{stringliteral}{"{}..."{}} << std::endl;}
\DoxyCodeLine{184 }
\DoxyCodeLine{185   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{186     \mbox{\hyperlink{classUsersServer_a33b866b5557fd81f26d22af87a2d8305}{writeUserToFileTxt}}();}
\DoxyCodeLine{187   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{classFileOpenError}{FileOpenError}} \&e) \{}
\DoxyCodeLine{188     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{189 }
\DoxyCodeLine{190   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{classFileCloseError}{FileCloseError}} \&e) \{}
\DoxyCodeLine{191     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{192 }
\DoxyCodeLine{193   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{classFileWriteError}{FileWriteError}} \&e) \{}
\DoxyCodeLine{194     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{195 }
\DoxyCodeLine{196   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{classFileNotFoundError}{FileNotFoundError}} \&e) \{}
\DoxyCodeLine{197     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{198   \}}
\DoxyCodeLine{199   \textcolor{comment}{/*}}
\DoxyCodeLine{200 \textcolor{comment}{  std::cout << "{}Saving users to file..."{} << std::endl;}}
\DoxyCodeLine{201 \textcolor{comment}{  std::ofstream file(fileNameTxt\_);}}
\DoxyCodeLine{202 \textcolor{comment}{  if (file.is\_open()) \{}}
\DoxyCodeLine{203 \textcolor{comment}{    for (const User *user : usersDatabase\_.getUsers()) \{}}
\DoxyCodeLine{204 \textcolor{comment}{      file << user-\/>getName() << "{} "{} << user-\/>getNif() << "{} "{}}}
\DoxyCodeLine{205 \textcolor{comment}{           << user-\/>getPassword() << "{} "{} << user-\/>getPrivileges() << "{} "{}}}
\DoxyCodeLine{206 \textcolor{comment}{           << user-\/>getEmail() << std::endl;}}
\DoxyCodeLine{207 \textcolor{comment}{      std::cout << "{}User saved: "{} << user-\/>getName() << "{}-\/"{} << user-\/>getNif()}}
\DoxyCodeLine{208 \textcolor{comment}{                << std::endl;}}
\DoxyCodeLine{209 \textcolor{comment}{    \}}}
\DoxyCodeLine{210 \textcolor{comment}{    file.close();}}
\DoxyCodeLine{211 \textcolor{comment}{  \} else \{}}
\DoxyCodeLine{212 \textcolor{comment}{    std::cerr << "{}Error: Unable to open file for writing."{} << std::endl;}}
\DoxyCodeLine{213 \textcolor{comment}{  \}}}
\DoxyCodeLine{214 \textcolor{comment}{  */}}
\DoxyCodeLine{215 \}}

\end{DoxyCode}


Referenced by main(), Green\+House\+::manage\+Admin(), and Green\+House\+::save().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classUsersServer_a09ff022e97cf02e1737dc735b43364fe_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classUsersServer_a3500268cb464053ac588a0f4534ac36c}\label{classUsersServer_a3500268cb464053ac588a0f4534ac36c}} 
\index{UsersServer@{UsersServer}!updateUser@{updateUser}}
\index{updateUser@{updateUser}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{updateUser()}{updateUser()}}
{\footnotesize\ttfamily void Users\+Server\+::update\+User (\begin{DoxyParamCaption}\item[{const std\+::string}]{name,  }\item[{const std\+::string}]{nif,  }\item[{const std\+::string}]{password,  }\item[{const std\+::string}]{privileges,  }\item[{const std\+::string}]{email }\end{DoxyParamCaption})}



Update \mbox{\hyperlink{classUser}{User}}. 


\begin{DoxyParams}{Parameters}
{\em name} & \\
\hline
{\em nif} & \\
\hline
{\em password} & \\
\hline
{\em privileges} & \\
\hline
{\em email} & \\
\hline
\end{DoxyParams}


Definition at line 65 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{68                                                     \{}
\DoxyCodeLine{69   \mbox{\hyperlink{classUser}{User}} *userToUpdate = \mbox{\hyperlink{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}{usersDatabase\_}}.\mbox{\hyperlink{classUsersDatabase_a81c2193fa38bd3f63403e8877b741a2c}{findUserByNif}}(nif);}
\DoxyCodeLine{70   \textcolor{comment}{// Si el usuario existe, y los privilegios que se quieren cambiar}}
\DoxyCodeLine{71   \textcolor{comment}{// isValidPrivileges entonces se cambian los privilegios y el email}}
\DoxyCodeLine{72   \textcolor{keywordflow}{if} (userToUpdate != \textcolor{keyword}{nullptr} \&\& \mbox{\hyperlink{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}{usersDatabase\_}}.\mbox{\hyperlink{classUsersDatabase_a6cf2dcc2c9bf73ef4e262c173e4dc5a4}{isValidPrivileges}}(privileges)) \{}
\DoxyCodeLine{73     userToUpdate-\/>\mbox{\hyperlink{classUser_aa72db65160cea95ad93a14b084825bad}{setPrivileges}}(privileges);}
\DoxyCodeLine{74     userToUpdate-\/>\mbox{\hyperlink{classUser_ad25e420b6470b7c840d28d6e9bb87fe3}{setEmail}}(email);}
\DoxyCodeLine{75   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{76     std::cout << \textcolor{stringliteral}{"{}User dosen't change, maybe correct privileges"{}} << std::endl;}
\DoxyCodeLine{77   \}}
\DoxyCodeLine{78 \}}

\end{DoxyCode}


References User\+::set\+Email(), and User\+::set\+Privileges().



Referenced by main(), and Green\+House\+::manage\+Update\+User().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classUsersServer_a3500268cb464053ac588a0f4534ac36c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classUsersServer_a3500268cb464053ac588a0f4534ac36c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classUsersServer_a33b866b5557fd81f26d22af87a2d8305}\label{classUsersServer_a33b866b5557fd81f26d22af87a2d8305}} 
\index{UsersServer@{UsersServer}!writeUserToFileTxt@{writeUserToFileTxt}}
\index{writeUserToFileTxt@{writeUserToFileTxt}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{writeUserToFileTxt()}{writeUserToFileTxt()}}
{\footnotesize\ttfamily void Users\+Server\+::write\+User\+To\+File\+Txt (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This method writes the users to a file txt. 



Definition at line 149 of file Users\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{149                                      \{}
\DoxyCodeLine{150   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{151     std::ofstream file(\mbox{\hyperlink{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}{fileNameTxt\_}});}
\DoxyCodeLine{152     \textcolor{keywordflow}{if} (!file.good()) \{}
\DoxyCodeLine{153       file.close();}
\DoxyCodeLine{154       \textcolor{keywordflow}{throw} \mbox{\hyperlink{classFileNotFoundError}{FileNotFoundError}}(\mbox{\hyperlink{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}{fileNameTxt\_}});}
\DoxyCodeLine{155     \}}
\DoxyCodeLine{156     \textcolor{keywordflow}{if} (!file.is\_open()) \{}
\DoxyCodeLine{157       \textcolor{keywordflow}{throw} \mbox{\hyperlink{classFileOpenError}{FileOpenError}}(\mbox{\hyperlink{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}{fileNameTxt\_}});}
\DoxyCodeLine{158     \}}
\DoxyCodeLine{159 }
\DoxyCodeLine{160     \textcolor{comment}{// Write users to file}}
\DoxyCodeLine{161     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{classUser}{User}} *user : \mbox{\hyperlink{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}{usersDatabase\_}}.\mbox{\hyperlink{classUsersDatabase_a742efe315cfe975ceec72c4139e8f6f7}{getUsers}}()) \{}
\DoxyCodeLine{162       file << user-\/>getName() << \textcolor{stringliteral}{"{} "{}} << user-\/>getNif() << \textcolor{stringliteral}{"{} "{}}}
\DoxyCodeLine{163            << user-\/>getPassword() << \textcolor{stringliteral}{"{} "{}} << user-\/>getPrivileges() << \textcolor{stringliteral}{"{} "{}}}
\DoxyCodeLine{164            << user-\/>getEmail() << std::endl;}
\DoxyCodeLine{165       std::cout << \textcolor{stringliteral}{"{}User saved: "{}} << user-\/>getName() << \textcolor{stringliteral}{"{}-\/"{}} << user-\/>getNif()}
\DoxyCodeLine{166                 << std::endl;}
\DoxyCodeLine{167     \}}
\DoxyCodeLine{168 }
\DoxyCodeLine{169     \textcolor{comment}{// Close the file}}
\DoxyCodeLine{170     file.close();}
\DoxyCodeLine{171 }
\DoxyCodeLine{172     \textcolor{comment}{// Check if file was closed properly}}
\DoxyCodeLine{173     \textcolor{keywordflow}{if} (file.is\_open()) \{}
\DoxyCodeLine{174       \textcolor{keywordflow}{throw} \mbox{\hyperlink{classFileCloseError}{FileCloseError}}(\mbox{\hyperlink{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}{fileNameTxt\_}});}
\DoxyCodeLine{175     \}}
\DoxyCodeLine{176   \} \textcolor{keywordflow}{catch} (std::exception \&e) \{}
\DoxyCodeLine{177     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{178   \}}
\DoxyCodeLine{179 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}\label{classUsersServer_a38551e6ecea8fb7975d204a125c22ce4}} 
\index{UsersServer@{UsersServer}!fileNameTxt\_@{fileNameTxt\_}}
\index{fileNameTxt\_@{fileNameTxt\_}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{fileNameTxt\_}{fileNameTxt\_}}
{\footnotesize\ttfamily std\+::string Users\+Server\+::file\+Name\+Txt\+\_\+ = \char`\"{}users.\+txt\char`\"{}\hspace{0.3cm}{\ttfamily [private]}}



This is the name of the file. 



Definition at line 110 of file Users\+Server.\+h.

\mbox{\Hypertarget{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}\label{classUsersServer_a7d44f948cbd4262302f49eaa08c24f3a}} 
\index{UsersServer@{UsersServer}!usersDatabase\_@{usersDatabase\_}}
\index{usersDatabase\_@{usersDatabase\_}!UsersServer@{UsersServer}}
\doxysubsubsection{\texorpdfstring{usersDatabase\_}{usersDatabase\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classUsersDatabase}{Users\+Database}} Users\+Server\+::users\+Database\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



This is the \mbox{\hyperlink{classUsersDatabase}{Users\+Database}} object. 



Definition at line 104 of file Users\+Server.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/\mbox{\hyperlink{UsersServer_8h}{Users\+Server.\+h}}\item 
src/\mbox{\hyperlink{UsersServer_8cpp}{Users\+Server.\+cpp}}\end{DoxyCompactItemize}
